warning: Parsed TOML manifest file successfully
debug: Token file: server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000000000000
debug:     size:           0x0000000200000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
warning: Adding pages to SGX enclave, this may take some time...
debug: adding pages to enclave: 0x1ffffd000-0x200000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1fff7d000-0x1ffffd000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1fff6d000-0x1fff7d000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1fff5d000-0x1fff6d000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fff1d000-0x1fff5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffedd000-0x1fff1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffe9d000-0x1ffedd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffe5d000-0x1ffe9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffe1d000-0x1ffe5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffddd000-0x1ffe1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffd9d000-0x1ffddd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffd5d000-0x1ffd9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffd1d000-0x1ffd5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffcdd000-0x1ffd1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffc9d000-0x1ffcdd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffc5d000-0x1ffc9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffc1d000-0x1ffc5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffbdd000-0x1ffc1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffb9d000-0x1ffbdd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffb5d000-0x1ffb9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffb4d000-0x1ffb5d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb3d000-0x1ffb4d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb2d000-0x1ffb3d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb1d000-0x1ffb2d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb0d000-0x1ffb1d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffafd000-0x1ffb0d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffaed000-0x1ffafd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffadd000-0x1ffaed000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffacd000-0x1ffadd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffabd000-0x1ffacd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffaad000-0x1ffabd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa9d000-0x1ffaad000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa8d000-0x1ffa9d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa7d000-0x1ffa8d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa6d000-0x1ffa7d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa5d000-0x1ffa6d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ff625000-0x1ff685000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1ff685000-0x1ff689000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1ff689000-0x1ffa5d000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000-0x1ff625000 [REG:RWX] (free)
warning: Added all pages to SGX enclave
debug: enclave initializing:
debug:     enclave id:   0x00000001fffff000
debug:     mr_enclave:   620bbacb4e8657a4e6fb54d76b16f3884ee5ecc5da413c8d827a134992074845
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: c56a3536b182021fa0655d9d55f3076ceced6fff
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1ff52d000-0x1ff5fb000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ffffd000-0x200000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x54ef9000
[::] debug: Shim loaded at 0x1ff52d000, ready to initialize
[::] debug: mounting "file:." (chroot) under /
[::] debug: mounting "proc" (pseudo) under /proc
[::] debug: mounting "dev" (pseudo) under /dev
[::] debug: mounting "dev:tty" (chroot) under /dev/tty
[::] debug: Creating pipe: pipe.srv:ec5a1c08ab05387979f2445e99f9c5b04b42fad07a6bd76e6b4d4a67485fe415
[P1:T1:] error: Detected deprecated syntax: 'fs.mount'. Consider converting to the new array syntax: 'fs.mounts = [{ type = "chroot", uri = "...", path = "..." }]'.
[P1:T1:] debug: mounting "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc" (chroot) under /lib
[P1:T1:] debug: mounting "file:/etc" (chroot) under /etc
[P1:T1:server] debug: Creating pipe: pipe.srv:9a6bc8e485d4de3e8b7cfa8099bdb607691c60fa73680d4efea379cb16d213cc
[P1:T1:server] debug: Allocating stack at 0 (size = 268435456)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: append_r_debug: adding file:./server at 0x44ef3000
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: append_r_debug: adding file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2 at 0x44e7f000
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:88f30118b86d6757579fc9c6b40023f289382670b9ee925c72d0f7d1c7193846
[P1:T1:server] debug: Shim process initialized
[P1:T1:server] debug: append_r_debug: adding file:[vdso_libos] at 0x44e7e000
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x44eb3000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x54ef8dc0) = -38
[P1:T1:server] trace: ---- shim_uname(0x54ef89b0) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x44e7c000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x54ef7ff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x54ef8148, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x54ef7b80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x54ef7b40, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x54ef7af0, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x54ef7ff0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x54ef7c40, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x44c82000
[P1:T1:server] trace: ---- shim_mprotect(0x44cae000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x44cae000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x44cae000
[P1:T1:server] trace: ---- shim_mmap(0x44e18000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x44e18000
[P1:T1:server] trace: ---- shim_mmap(0x44e6e000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x44e6e000
[P1:T1:server] trace: ---- shim_mmap(0x44e74000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x44e74000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x44c82000
[P1:T1:server] debug: append_r_debug: adding file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/libc.so.6 at 0x44c82000
[P1:T1:server] trace: ---- shim_mmap(0, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x44c7f000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x44c7f740) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x44c7fa10) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x44c7fa20, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x44e6e000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x44ef6000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x44eaf000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x54ef8b40) = 0x0
[P1:T1:server] trace: ---- shim_getrandom(0x44e79178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x44eb3000
[P1:T1:server] trace: ---- shim_brk(0x44ed4000) = 0x44ed4000
warning: Disallowing access to file '/etc/gai.conf'; file is not protected, trusted or allowed.
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = -13
[P1:T1:server] trace: ---- shim_futex(0x44e79e64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x44eb3048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(50051)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x54ef8508, 0x54ef8620) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(50051)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x54ef8538, 0x54ef8620) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x54ef8b54, 4) = 0x0
[P1:T1:server] trace: ---- shim_bind(3, 0x44eb32d0, 28) = 0x0
[P1:T1:server] trace: ---- shim_listen(3, 10) = 0x0
[P1:T1:server] trace: ---- shim_accept(3, 0x54ef8af0, 0x54ef8ae8) ...
warning: Parsed TOML manifest file successfully
debug: Token file: server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000000000000
debug:     size:           0x0000000200000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
warning: Adding pages to SGX enclave, this may take some time...
debug: adding pages to enclave: 0x1ffffd000-0x200000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1fff7d000-0x1ffffd000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1fff6d000-0x1fff7d000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1fff5d000-0x1fff6d000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fff1d000-0x1fff5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffedd000-0x1fff1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffe9d000-0x1ffedd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffe5d000-0x1ffe9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffe1d000-0x1ffe5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffddd000-0x1ffe1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffd9d000-0x1ffddd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffd5d000-0x1ffd9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffd1d000-0x1ffd5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffcdd000-0x1ffd1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffc9d000-0x1ffcdd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffc5d000-0x1ffc9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffc1d000-0x1ffc5d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffbdd000-0x1ffc1d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffb9d000-0x1ffbdd000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffb5d000-0x1ffb9d000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1ffb4d000-0x1ffb5d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb3d000-0x1ffb4d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb2d000-0x1ffb3d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb1d000-0x1ffb2d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffb0d000-0x1ffb1d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffafd000-0x1ffb0d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffaed000-0x1ffafd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffadd000-0x1ffaed000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffacd000-0x1ffadd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffabd000-0x1ffacd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffaad000-0x1ffabd000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa9d000-0x1ffaad000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa8d000-0x1ffa9d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa7d000-0x1ffa8d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa6d000-0x1ffa7d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ffa5d000-0x1ffa6d000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1ff625000-0x1ff685000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1ff685000-0x1ff689000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1ff689000-0x1ffa5d000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000-0x1ff625000 [REG:RWX] (free)
warning: Added all pages to SGX enclave
debug: enclave initializing:
debug:     enclave id:   0x00000001fffff000
debug:     mr_enclave:   7b4ee56be2fa99ad53ad7b42ba942680f8f8f6288811c1bbd9ae434a25730588
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: c56a3536b182021fa0655d9d55f3076ceced6fff
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1ff52d000-0x1ff5fb000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ffffd000-0x200000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x152cac000
[::] debug: Shim loaded at 0x1ff52d000, ready to initialize
[::] debug: mounting "file:." (chroot) under /
[::] debug: mounting "proc" (pseudo) under /proc
[::] debug: mounting "dev" (pseudo) under /dev
[::] debug: mounting "dev:tty" (chroot) under /dev/tty
[::] debug: Creating pipe: pipe.srv:79a8d3509fcf4776ce3a0741c210f9d9807ba6c90069ff750ed79a179c73555e
[P1:T1:] error: Detected deprecated syntax: 'fs.mount'. Consider converting to the new array syntax: 'fs.mounts = [{ type = "chroot", uri = "...", path = "..." }]'.
[P1:T1:] debug: mounting "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc" (chroot) under /lib
[P1:T1:] debug: mounting "file:/etc" (chroot) under /etc
[P1:T1:server] debug: Creating pipe: pipe.srv:5068ab0cae0e22a7942c471acbdaefea7a568920b596d272af7f0193a9ce6234
[P1:T1:server] debug: Allocating stack at 0 (size = 268435456)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: append_r_debug: adding file:./server at 0x142ca6000
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: append_r_debug: adding file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2 at 0x142c32000
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:1ea9c07b7d93686c3ebb81183e3a065f7b2172232aa41bb11286f733afb17f6b
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] debug: append_r_debug: adding file:[vdso_libos] at 0x142c31000
[P1:T1:server] trace: ---- shim_brk(0) = 0x142c66000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x152cabdc0) = -38
[P1:T1:server] trace: ---- shim_uname(0x152cab9b0) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x142c2f000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libc.so.6", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x152caaff0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x152cab148, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x152caab80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x152caab40, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x152caaaf0, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x152caaff0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x152caac40, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x142a35000
[P1:T1:server] trace: ---- shim_mprotect(0x142a61000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x142a61000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x142a61000
[P1:T1:server] trace: ---- shim_mmap(0x142bcb000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x142bcb000
[P1:T1:server] trace: ---- shim_mmap(0x142c21000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x142c21000
[P1:T1:server] trace: ---- shim_mmap(0x142c27000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x142c27000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x142a35000
[P1:T1:server] debug: append_r_debug: adding file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/libc.so.6 at 0x142a35000
[P1:T1:server] trace: ---- shim_mmap(0, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x142a32000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x142a32740) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x142a32a10) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x142a32a20, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x142c21000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x142ca9000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x142c62000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x152cabb40) = 0x0
[P1:T1:server] trace: ---- shim_getrandom(0x142c2c178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x142c66000
[P1:T1:server] trace: ---- shim_brk(0x142c87000) = 0x142c87000
warning: Disallowing access to file '/etc/gai.conf'; file is not protected, trusted or allowed.
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = -13
[P1:T1:server] trace: ---- shim_futex(0x142c2ce64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x142c66048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(50051)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x152cab508, 0x152cab620) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(50051)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x152cab538, 0x152cab620) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x152cabb54, 4) = 0x0
[P1:T1:server] trace: ---- shim_bind(3, 0x142c662d0, 28) = 0x0
[P1:T1:server] trace: ---- shim_listen(3, 10) = 0x0
[P1:T1:server] trace: ---- shim_accept(3, 0x152cabaf0, 0x152cabae8) ...
[P1:T1:server] trace: ---- return from shim_accept(...) = 0x4
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x152cab960, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x152cab8d0) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] warning: recvmsg()/recvmmsg()/recvfrom(): MSG_WAITALL is ignored, may lead to a read that returns less data.
[P1:T1:server] trace: ---- shim_recvfrom(4, 0x152cabbd0, 0x104, 256, 0, 0) = 0x104
[P1:T1:server] warning: recvmsg()/recvmmsg()/recvfrom(): MSG_WAITALL is ignored, may lead to a read that returns less data.
[P1:T1:server] trace: ---- shim_recvfrom(4, 0x152cabbd0, 0x104, 256, 0, 0) = 0x104
[P1:T1:server] trace: ---- shim_sendto(4, 0x152cabce0, 0x104, 0, 0, 0) = 0x104
[P1:T1:server] warning: recvmsg()/recvmmsg()/recvfrom(): MSG_WAITALL is ignored, may lead to a read that returns less data.
[P1:T1:server] trace: ---- shim_recvfrom(4, 0x152cabbd0, 0x104, 256, 0, 0) = 0x104
[P1:T1:server] trace: ---- shim_close(4) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x142c66530, 0xb9) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0xb9
[P1:T1:server] debug: ---- shim_exit_group (returning 0)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 0
YINGYING process exit
